<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Rational vs Irrational – Classification</title>

<style>
body{
  margin:0;
  font-family:Segoe UI,Roboto,Arial,sans-serif;
  background:#fff;
  color:#111;
}
.wrap{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}
.card{
  width:100%;
  max-width:980px;
  background:#fff;
  padding:26px;
  border-radius:10px;
  box-shadow:0 8px 28px rgba(0,0,0,0.08);
}
h1{font-size:16px;margin:0 0 10px;font-weight:700;}
.question{font-size:20px;font-weight:700;color:#0b59c6;}
.list{font-size:18px;line-height:1.6;margin-top:10px;}
.prompt{font-size:13px;color:#666;font-style:italic;margin-top:10px;}
.steps{
  white-space:pre-line;
  font-size:17px;
  line-height:1.7;
  margin-top:18px;
}
.hidden{display:none;}
.foot{margin-top:12px;font-size:13px;color:#666;}
.box{
  border:1px solid #111;
  display:inline-block;
  padding:4px 8px;
  margin-top:6px;
}
/* Style for correct viniculum rendering */
.bar {
  text-decoration: overline;
}
</style>
</head>

<body>
<div class="wrap">
<div class="card" id="card">
<h1>Number Classification</h1>
<div class="question" id="qText"></div>
<div class="list" id="listBox"></div>
<div class="prompt" id="prompt">Press any key to reveal the solution…</div>
<div class="steps hidden" id="stepsBox"></div>
<div class="foot">After reveal press <b>y</b> for next or <b>n</b> to exit.</div>
</div>
</div>

<script>
(function(){

/* ---------- UTILS ---------- */
function randInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }
function shuffle(a){ return a.sort(()=>Math.random()-0.5); }
function box(txt){ return "□ " + txt; }
function toRoman(num) {
  const roman = { 1:'i', 2:'ii', 3:'iii', 4:'iv', 5:'v', 6:'vi', 7:'vii', 8:'viii', 9:'ix', 10:'x' };
  return roman[num] || num;
}

/* ---------- GENERATORS ---------- */

// 1. Rational Fraction (p/q)
const genFraction = () => {
  const q = randInt(2, 20);
  let p = randInt(1, 50);
  if (p % q === 0) p += 1; // Ensure it's not an integer
  const numStr = `${p}/${q}`;
  return {
    display: numStr,
    getSolution: (idx) => `(${toRoman(idx)}) ${numStr}

Step 1: Write in p/q form

A rational number is any number that can be written as p/q,
where p, q ∈ ℤ and q ≠ 0.

Here,
p = ${p} (an integer)
q = ${q} (a non-zero integer)

Step 2: Apply the definition

Since ${numStr} is written in p/q form,

Conclusion:
${box(`${numStr} is a rational number`)}`
  };
};

// 2. Terminating Decimal
const genTerminating = () => {
  const int = randInt(0, 10);
  const dec = randInt(10, 9999);
  const numStr = `${int}.${dec}`;
  const den = Math.pow(10, String(dec).length);
  return {
    display: numStr,
    getSolution: (idx) => `(${toRoman(idx)}) ${numStr}

Step 1: Observe the decimal expansion

${numStr} ends after ${String(dec).length} decimal places.
Hence, it is a terminating decimal.

Step 2: Rule used

All terminating decimal expansions are rational numbers,
because they can be written as a fraction.

Example:
${numStr} = ${int * den + dec} / ${den}

Conclusion:
${box(`${numStr} is a rational number`)}`
  };
};

// 3. Irrational Constants (Pi/e)
const genConstant = () => {
  const isPi = Math.random() > 0.5;
  const sym = isPi ? "π" : "e";
  const val = isPi ? "3.14159265…" : "2.71828182…";
  return {
    display: sym,
    getSolution: (idx) => `(${toRoman(idx)}) ${sym}

Step 1: Observe the decimal expansion

${sym} ≈ ${val}

• The decimal does not terminate.
• No sequence of digits repeats.
• Even after many decimal places, no fixed pattern appears.

Step 2: Rule used

Non-terminating, non-repeating decimal expansions are irrational numbers.

Conclusion:
${box(`${sym} is an irrational number`)}`
  };
};

// 4. Repeating Decimal (Viniculum)
const genRepeating = () => {
  const int = randInt(0, 9);
  const rep = randInt(1, 9999); // Repeating part
  const numStr = `${int}.<span class='bar'>${rep}</span>`;
  return {
    display: numStr,
    getSolution: (idx) => `(${toRoman(idx)}) ${numStr}

Step 1: Observe the decimal expansion

The block of digits ${rep} repeats continuously.

Step 2: Rule used

Non-terminating repeating decimals are rational numbers,
since they can always be converted into fractions.

Conclusion:
${box(`${numStr} is a rational number`)}`
  };
};

// 5. Mixed Repeating (e.g. 5.2343434...) using Viniculum logic
const genMixedRepeating = () => {
  const int = randInt(0, 9);
  const nonRep = randInt(1, 9);
  const rep = randInt(10, 99);
  const numStr = `${int}.${nonRep}<span class='bar'>${rep}</span>`;
  return {
    display: numStr,
    getSolution: (idx) => `(${toRoman(idx)}) ${numStr}

Step 1: Observe the decimal expansion

• The decimal does not terminate.
• The block "${rep}" repeats after the digit ${nonRep}.

Step 2: Rule used

Non-terminating repeating decimal expansions are rational numbers.

Conclusion:
${box(`${numStr} is a rational number`)}`
  };
};

// 6. Irrational Pattern (0.101001000...)
const genPatternIrrational = () => {
  const int = randInt(0, 5);
  const digit = randInt(1, 9);
  const sep = 0;
  // e.g. 2.404004000...
  const pattern = `${digit}${sep}${digit}${sep}${sep}${digit}${sep}${sep}${sep}${digit}...`;
  const numStr = `${int}.${pattern}`;
  
  return {
    display: numStr,
    getSolution: (idx) => `(${toRoman(idx)}) ${numStr}

Step 1: Observe the decimal expansion

• The decimal does not terminate.
• The number of zeros between ${digit}s keeps increasing.
• The gap between repeating digits changes.
• Hence, no repeating block can be formed.

Step 2: Rule used

Non-terminating, non-repeating decimals are irrational numbers.

Conclusion:
${box(`${numStr} is an irrational number`)}`
  };
};

// 7. Another Irrational Pattern (Growth)
const genGrowthIrrational = () => {
  const int = randInt(1, 9);
  const d1 = randInt(1, 4);
  const d2 = randInt(5, 9);
  // e.g. 1.232332333...
  const pattern = `${d1}${d2}${d1}${d2}${d2}${d1}${d2}${d2}${d2}...`;
  const numStr = `${int}.${pattern}`;
  
  return {
    display: numStr,
    getSolution: (idx) => `(${toRoman(idx)}) ${numStr}

Step 1: Observe the decimal expansion

• The decimal does not terminate.
• The number of ${d2}s increases each time.
• There is no fixed repeating cycle.

Step 2: Rule used

Non-terminating, non-repeating decimals are irrational numbers.

Conclusion:
${box(`${numStr} is an irrational number`)}`
  };
};

// 8. Square Root (Imperfect)
const genSqrtIrrational = () => {
  // Primes or product of distinct primes
  const bases = [2, 3, 5, 6, 7, 8, 10, 11, 12, 13, 14, 15, 17, 18, 19, 20, 21, 22, 23, 24];
  const val = bases[randInt(0, bases.length - 1)];
  const numStr = `√${val}`;
  
  return {
    display: numStr,
    getSolution: (idx) => `(${toRoman(idx)}) ${numStr}

Step 1: Analyze the number inside the root

The number is ${val}.

Step 2: Check for perfect square

There is no integer 'n' such that n² = ${val}.
Therefore, ${val} is not a perfect square.

Step 3: Rule used

The square root of a non-perfect square is irrational.

Conclusion:
${box(`${numStr} is an irrational number`)}`
  };
};

// 9. Cube Root (Imperfect)
const genCbrtIrrational = () => {
  const val = randInt(2, 20);
  // Filter out perfect cubes: 8
  const safeVal = val === 8 ? 9 : val; 
  const numStr = `∛${safeVal}`;

  return {
    display: numStr,
    getSolution: (idx) => `(${toRoman(idx)}) ${numStr}

Step 1: Check for perfect cube

${safeVal} is not a perfect cube (since 1³=1, 2³=8, 3³=27).

Step 2: Rule used

The cube root of a number that is not a perfect cube
cannot be written as an integer or fraction.

Conclusion:
${box(`${numStr} is an irrational number`)}`
  };
};

// 10. Square Root (Perfect - Rational Trick Question)
const genSqrtRational = () => {
  const base = randInt(2, 12);
  const sq = base * base;
  const numStr = `√${sq}`;

  return {
    display: numStr,
    getSolution: (idx) => `(${toRoman(idx)}) ${numStr}

Step 1: Simplify the square root

√${sq} = ${base}

Step 2: Write in p/q form

${base} can be written as ${base}/1.

Conclusion:
${box(`${numStr} is a rational number`)}`
  };
};

/* ---------- STATE ---------- */
let stage="question";
let DATA=[];

const qEl=document.getElementById("qText");
const listEl=document.getElementById("listBox");
const stepsEl=document.getElementById("stepsBox");
const prompt=document.getElementById("prompt");

/* ---------- LOAD ---------- */
function newProblem(){
  stage="question";
  stepsEl.classList.add("hidden");
  prompt.textContent="Press any key to reveal the solution…";

  // List of generator functions
  const generators = [
    genFraction,
    genTerminating,
    genConstant,
    genRepeating,
    genMixedRepeating,
    genPatternIrrational,
    genGrowthIrrational,
    genSqrtIrrational,
    genCbrtIrrational,
    genSqrtRational
  ];

  // Shuffle and pick 10 generators (some might repeat if we allow it, but here we just shuffle types)
  // To make it truly random without limits, we can pick random generators
  const selected = [];
  for(let i=0; i<10; i++){
    const gen = generators[randInt(0, generators.length-1)];
    selected.push(gen());
  }
  
  DATA = selected;

  qEl.textContent="Classify the following numbers as rational or irrational:";
  // Generate question list with correct numbering
  listEl.innerHTML = DATA.map((x,i)=>`(${i+1}) ${x.display}`).join("<br>");
}

/* ---------- REVEAL ---------- */
function reveal(){
  stage="answer";
  stepsEl.classList.remove("hidden");
  prompt.textContent='Press "y" for next or "n" to exit.';

  // Generate solutions passing the correct index (i+1) to match question numbering
  stepsEl.innerHTML = DATA.map((x, i)=>x.getSolution(i+1)).join("<br><br>"); 
}

/* ---------- CONTROLS ---------- */
window.addEventListener("keydown",e=>{
  const k=(e.key||"").toLowerCase();
  if(stage==="question") reveal();
  else if(k==="y") newProblem();
  else if(k==="n"){
    document.getElementById("card").innerHTML =
      '<div style="text-align:center;font-size:20px;padding:40px;">Goodbye — keep learning.</div>';
  }
});

newProblem();
})();
</script>
</body>
</html>