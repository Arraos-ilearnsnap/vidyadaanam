<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Ratio Numerical (Whole–Part–Part)</title>
<style>
  :root{--bg:#fff;--card:#fff;--muted:#666;--accent:#0b59c6;}
  html,body{
    height:100%;margin:0;background:var(--bg);
    font-family:Segoe UI,Roboto,Arial,sans-serif;color:#111;
  }
  .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:20px;}
  .card{width:100%;max-width:1000px;background:var(--card);border-radius:10px;padding:22px 20px;
    box-shadow:0 8px 28px rgba(16,49,90,0.06);}
  h1{font-size:16px;margin:0 0 10px;font-weight:700;}
  .question{font-size:20px;color:var(--accent);margin:12px 0;font-weight:700;}
  .prompt{color:var(--muted);font-size:13px;margin-bottom:10px;font-style:italic;}
  .steps{white-space:pre-line;font-size:17px;line-height:1.55;margin-top:12px;}
  .hidden{display:none;}
  .foot{margin-top:10px;color:var(--muted);font-size:13px;}
  .goodbye{padding:48px;text-align:center;font-size:20px;color:#333;}
</style>
</head>

<body>
<div class="wrap">
  <div class="card" id="card" role="main" aria-live="polite">
    <h1>Ratio Numerical</h1>
    <div class="question" id="qText">—</div>
    <div class="prompt" id="prompt">Press any key to reveal the solution…</div>
    <div id="stepsBox" class="steps hidden"></div>
    <div class="foot">After reveal press <b>y</b> for next or <b>n</b> to exit.</div>
  </div>
</div>

<script>
(function(){

// --------------------------------------------------
// 26 VALID TRIPLETS (WHOLE, PART-1, PART-2)
// --------------------------------------------------
const TRIPLETS = [
 ["Income","Savings","Expenditure"],
 ["Earnings","Savings","Spending"],
 ["Total Amount","Amount Saved","Amount Spent"],
 ["Total Money","Money Saved","Money Used"],
 ["Household Income","Savings","Household Expenditure"],
 ["Selling Price","Cost Price","Profit"],
 ["Cost Price","Selling Price","Loss"],
 ["Marked Price","Discount","Selling Price"],
 ["Selling Price","Profit","Cost Price"],
 ["Selling Price","Cost Price","Loss"],
 ["Gross Salary","Deductions","Net Pay"],
 ["Gross Income","Tax","Net Income"],
 ["Total Pay","Provident Fund","Take-home Pay"],
 ["Total Work","Work Done","Work Remaining"],
 ["Total Job","Completed Work","Remaining Work"],
 ["Total Output","Produced","Unproduced"],
 ["Total Marks","Marks Obtained","Marks Lost"],
 ["Maximum Marks","Score","Shortfall"],
 ["Total Questions","Correct","Incorrect"],
 ["Total Length","Used Length","Remaining Length"],
 ["Perimeter","Covered Length","Uncovered Length"],
 ["Total Area","Used Area","Free Area"],
 ["Total Quantity","Used Quantity","Remaining Quantity"],
 ["Total Weight","Weight Used","Weight Left"],
 ["Total Money","Amount Given","Amount Left"],
 ["Total students","passing students","failing students"]
];

function r(a,b){return Math.floor(Math.random()*(b-a+1))+a;}

// --------------------------------------------------
// Generate problem
// --------------------------------------------------
function generateProblem(){
  const [WHOLE, PART1, PART2] = TRIPLETS[r(0,TRIPLETS.length-1)];

  // fixed clean ratio like handwritten example
  const A = 7, B = 2;

  const a = r(50,300);
  const part1Value = B * a;
  const wholeValue = A * a;
  const part2Value = wholeValue - part1Value;

  const question =
    `The ratio of ${WHOLE.toLowerCase()} : ${PART1.toLowerCase()} is ${A} : ${B}. `
  + `If the ${PART1.toLowerCase()} is ${part1Value}, `
  + `find the ${WHOLE.toLowerCase()} and ${PART2.toLowerCase()}.`;

  return {
    WHOLE, PART1, PART2,
    A, B, a,
    wholeValue, part1Value, part2Value,
    question
  };
}

let DATA=null, stage="question";
const qEl=document.getElementById("qText");
const stepsEl=document.getElementById("stepsBox");
const prompt=document.getElementById("prompt");

function newProblem(){
  stage="question";
  stepsEl.classList.add("hidden");
  stepsEl.textContent="";
  prompt.textContent="Press any key to reveal the solution…";

  DATA = generateProblem();
  qEl.textContent = DATA.question;
}

function reveal(){
  stage="answer";
  stepsEl.classList.remove("hidden");
  prompt.textContent='Press "y" for next or "n" to exit.';

  const {
    WHOLE, PART1, PART2,
    A, B, a,
    wholeValue, part1Value, part2Value
  } = DATA;

  let t="";
  t+=`Let ${WHOLE} = x = ${A}a  … (1)\n`;
  t+=`Let ${PART1} = y = ${B}a = ${part1Value}  … (2)\n\n`;

  t+=`From (2):\n`;
  t+=`${B}a = ${part1Value}\n`;
  t+=`a = ${part1Value} ÷ ${B}\n`;
  t+=`a = ${a}\n\n`;

  t+=`Substitute a = ${a} in (1):\n`;
  t+=`${WHOLE} = ${A}a = ${A} × ${a} = ${wholeValue}\n\n`;

  t+=`${PART2} = ${WHOLE} − ${PART1}\n`;
  t+=`= ${wholeValue} − ${part1Value}\n`;
  t+=`= ${part2Value}\n\n`;

  t+=`${WHOLE} is ${wholeValue},\n`;
  t+=`of which ${part1Value} is ${PART1.toLowerCase()} and ${part2Value} is ${PART2.toLowerCase()}.\n`;

  stepsEl.textContent=t;
}

window.addEventListener("keydown", e=>{
  const k=(e.key||"").toLowerCase();
  if(stage==="question"){ reveal(); }
  else if(stage==="answer"){
    if(k==="y") newProblem();
    else if(k==="n"){
      document.getElementById("card").innerHTML =
        '<div class="goodbye">Goodbye — thanks for learning.</div>';
    }
  }
});

newProblem();

})();
</script>

</body>
</html>
